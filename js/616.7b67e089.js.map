{"version":3,"file":"js/616.7b67e089.js","mappings":"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","sources":["webpack://vue-frontend/./node_modules/core-js/modules/es.iterator.every.js","webpack://vue-frontend/./src/views/PixelTest.vue","webpack://vue-frontend/./src/components/PixelTypewriter.vue","webpack://vue-frontend/src/components/PixelTypewriter.vue","webpack://vue-frontend/./src/components/PixelTypewriter.vue?b3a3","webpack://vue-frontend/./src/components/PixelTypewriter.vue?9c43","webpack://vue-frontend/src/views/PixelTest.vue","webpack://vue-frontend/./src/views/PixelTest.vue?3a4b","webpack://vue-frontend/./src/views/PixelTest.vue?e396"],"sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar everyWithoutClosingOnEarlyError = iteratorHelperWithoutClosingOnEarlyError('every', TypeError);\n\n// `Iterator.prototype.every` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.every\n$({ target: 'Iterator', proto: true, real: true, forced: everyWithoutClosingOnEarlyError }, {\n  every: function every(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (everyWithoutClosingOnEarlyError) return call(everyWithoutClosingOnEarlyError, this, predicate);\n\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return !iterate(record, function (value, stop) {\n      if (!predicate(value, counter++)) return stop();\n    }, { IS_RECORD: true, INTERRUPTED: true }).stopped;\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"test-container\"},[_c('h1',[_vm._v(\"像素风格打字机测试\")]),_c('div',{staticClass:\"demo-section\"},[_c('h2',[_vm._v(\"默认设置演示\")]),_c('div',{staticClass:\"demo-box\"},[_c('PixelTypewriter')],1)]),_c('div',{staticClass:\"demo-section\"},[_c('h2',[_vm._v(\"自定义文本演示\")]),_c('div',{staticClass:\"demo-box\"},[_c('PixelTypewriter',{attrs:{\"texts\":['欢迎来到科博展', 'PIXEL STYLE', '动态打字效果'],\"type-speed\":120,\"delete-speed\":60,\"stay-time\":1500}})],1)]),_c('div',{staticClass:\"demo-section\"},[_c('h2',[_vm._v(\"快速模式演示\")]),_c('div',{staticClass:\"demo-box\"},[_c('PixelTypewriter',{attrs:{\"texts\":['FAST TYPING', 'SPEED TEST'],\"type-speed\":50,\"delete-speed\":30,\"stay-time\":1000}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"displayRef\",staticClass:\"pixel-typewriter\"})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pixel-typewriter\" ref=\"displayRef\"></div>\n</template>\n\n<script>\nexport default {\n  name: 'PixelTypewriter',\n  props: {\n    texts: {\n      type: Array,\n      default: function() { return ['HELLO'] },\n      validator: function(value) {\n        // 验证texts必须是非空数组且每个元素是字符串\n        return Array.isArray(value) && value.length > 0 && \n               value.every(item => typeof item === 'string')\n      }\n    },\n    typeSpeed: {\n      type: Number,\n      default: 150,\n      validator: function(value) { return value > 0 } // 速度必须为正数\n    },\n    deleteSpeed: {\n      type: Number,\n      default: 80,\n      validator: function(value) { return value > 0 } // 速度必须为正数\n    },\n    stayTime: {\n      type: Number,\n      default: 2000,\n      validator: function(value) { return value >= 0 } // 停留时间可以为0\n    }\n  },\n  data() {\n    return {\n      isAnimating: false,\n      currentIndex: 0,\n      animationId: null // 用于存储setTimeout的ID，方便后续可能的停止操作\n    }\n  },\n  mounted() {\n    // 组件挂载后开始动画\n    if (this.texts && this.texts.length > 0) {\n      this.animate()\n    }\n  },\n  methods: {\n    // 安全的setTimeout包装函数\n    safeTimeout(callback, ms) {\n      return setTimeout(callback, ms)\n    },\n    \n    // 模拟Promise的延迟函数\n    delay(ms) {\n      const vm = this\n      return new Promise(resolve => {\n        vm.animationId = vm.safeTimeout(resolve, ms)\n      })\n    },\n    \n    // 主要动画逻辑\n    async animate() {\n      // 防止重复执行\n      if (this.isAnimating || !this.$refs.displayRef || !this.texts.length) return\n      \n      this.isAnimating = true\n\n      try {\n        // 确保DOM元素已渲染\n        await this.$nextTick()\n        \n        const text = this.texts[this.currentIndex] || ''\n        const el = this.$refs.displayRef\n        el.textContent = ''\n\n        // 打字效果\n        for (let i = 0; i < text.length; i++) {\n          await this.delay(this.typeSpeed)\n          if (!this.isAnimating) break // 如果动画被中断，停止执行\n          el.textContent = text.slice(0, i + 1)\n        }\n\n        // 如果动画未被中断，执行停留\n        if (this.isAnimating && this.stayTime > 0) {\n          await this.delay(this.stayTime)\n        }\n\n        // 删除效果\n        if (this.isAnimating) {\n          for (let i = text.length; i > 0; i--) {\n            await this.delay(this.deleteSpeed)\n            if (!this.isAnimating) break // 如果动画被中断，停止执行\n            el.textContent = text.slice(0, i - 1)\n          }\n        }\n\n        // 更新索引，准备下一条文本\n        if (this.isAnimating) {\n          this.currentIndex = (this.currentIndex + 1) % this.texts.length\n          // 递归调用，实现无限轮播\n          this.animate()\n        }\n      } catch (error) {\n        console.error('像素打字机动画出错:', error)\n      } finally {\n        // 如果出现错误，重置动画状态\n        if (this.isAnimating) {\n          this.isAnimating = false\n        }\n      }\n    }\n  },\n  // 组件销毁前清除定时器，避免内存泄漏\n  beforeDestroy() {\n    if (this.animationId) {\n      clearTimeout(this.animationId)\n    }\n    this.isAnimating = false\n  }\n}\n</script>\n\n<style scoped>\n.pixel-typewriter {\n  /* 字体设置 */\n  font-family: 'Press Start 2P', monospace;\n  color: #ffffff;\n  text-align: center;\n  line-height: 1.6;\n  letter-spacing: 2px;\n  \n  /* 像素风格增强 */\n  image-rendering: pixelated;\n  image-rendering: -moz-crisp-edges;\n  image-rendering: crisp-edges;\n  \n  /* 响应式字体大小 - 使用clamp确保在不同屏幕尺寸下都有良好表现 */\n  font-size: clamp(0.8rem, 4vw, 2rem);\n  \n  /* 最大宽度限制，防止在宽屏上文字过长 */\n  max-width: 90%;\n  \n  /* 确保内容在容器中居中 */\n  margin: 0 auto;\n  \n  /* 可选：像素风格的文本阴影，增强复古感 */\n  text-shadow: \n    2px 2px 0 #000000,\n    -2px -2px 0 #000000,\n    2px -2px 0 #000000,\n    -2px 2px 0 #000000;\n  \n  /* 防止文字换行时出现不美观的断行 */\n  word-break: break-word;\n  white-space: normal;\n}\n\n/* 媒体查询 - 为不同屏幕尺寸优化 */\n@media (max-width: 768px) {\n  .pixel-typewriter {\n    font-size: clamp(0.7rem, 5vw, 1.5rem);\n    letter-spacing: 1px;\n    line-height: 1.8;\n  }\n}\n\n@media (max-width: 480px) {\n  .pixel-typewriter {\n    font-size: clamp(0.6rem, 6vw, 1.2rem);\n    letter-spacing: 0.5px;\n    line-height: 2;\n    max-width: 95%;\n  }\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PixelTypewriter.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PixelTypewriter.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PixelTypewriter.vue?vue&type=template&id=7c6617bc&scoped=true\"\nimport script from \"./PixelTypewriter.vue?vue&type=script&lang=js\"\nexport * from \"./PixelTypewriter.vue?vue&type=script&lang=js\"\nimport style0 from \"./PixelTypewriter.vue?vue&type=style&index=0&id=7c6617bc&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c6617bc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"test-container\">\n    <h1>像素风格打字机测试</h1>\n    \n    <div class=\"demo-section\">\n      <h2>默认设置演示</h2>\n      <div class=\"demo-box\">\n        <PixelTypewriter />\n      </div>\n    </div>\n    \n    <div class=\"demo-section\">\n      <h2>自定义文本演示</h2>\n      <div class=\"demo-box\">\n        <PixelTypewriter \n          :texts=\"['欢迎来到科博展', 'PIXEL STYLE', '动态打字效果']\"\n          :type-speed=\"120\"\n          :delete-speed=\"60\"\n          :stay-time=\"1500\"\n        />\n      </div>\n    </div>\n    \n    <div class=\"demo-section\">\n      <h2>快速模式演示</h2>\n      <div class=\"demo-box\">\n        <PixelTypewriter \n          :texts=\"['FAST TYPING', 'SPEED TEST']\"\n          :type-speed=\"50\"\n          :delete-speed=\"30\"\n          :stay-time=\"1000\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PixelTypewriter from '../components/PixelTypewriter.vue'\n\nexport default {\n  name: 'PixelTest',\n  components: {\n    PixelTypewriter\n  }\n}\n</script>\n\n<style scoped>\n.test-container {\n  width: 100%;\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\nh1 {\n  text-align: center;\n  color: #333;\n  margin-bottom: 40px;\n}\n\nh2 {\n  color: #555;\n  margin-bottom: 20px;\n}\n\n.demo-section {\n  margin-bottom: 60px;\n}\n\n.demo-box {\n  background-color: #000;\n  padding: 60px 20px;\n  border-radius: 8px;\n  min-height: 200px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PixelTest.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PixelTest.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PixelTest.vue?vue&type=template&id=7aecb222&scoped=true\"\nimport script from \"./PixelTest.vue?vue&type=script&lang=js\"\nexport * from \"./PixelTest.vue?vue&type=script&lang=js\"\nimport style0 from \"./PixelTest.vue?vue&type=style&index=0&id=7aecb222&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7aecb222\",\n  null\n  \n)\n\nexport default component.exports"],"names":["$","call","iterate","aCallable","anObject","getIteratorDirect","iteratorClose","iteratorHelperWithoutClosingOnEarlyError","everyWithoutClosingOnEarlyError","TypeError","target","proto","real","forced","every","predicate","this","error","record","counter","value","stop","IS_RECORD","INTERRUPTED","stopped","render","_vm","_c","_self","staticClass","_v","attrs","staticRenderFns","ref","name","props","texts","type","Array","default","validator","isArray","length","item","typeSpeed","Number","deleteSpeed","stayTime","data","isAnimating","currentIndex","animationId","mounted","animate","methods","safeTimeout","callback","ms","setTimeout","delay","vm","Promise","resolve","$refs","displayRef","$nextTick","text","el","textContent","i","slice","console","beforeDestroy","clearTimeout","component","components","PixelTypewriter"],"sourceRoot":""}