"use strict";(self["webpackChunkvue_frontend"]=self["webpackChunkvue_frontend"]||[]).push([[734,776],{749:function(t,e,s){t.exports=s.p+"img/ae.dd37529e.svg"},887:function(t,e,s){t.exports=s.p+"img/csdn.e5be268e.svg"},2564:function(t,e,s){s.d(e,{GG:function(){return h},Me:function(){return u},c1:function(){return d},lP:function(){return g}});s(4114);var a=s(2505),i=s.n(a);const o=!0,r=i().create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json"}}),n=[{id:1,blogId:3,userId:"user1",readAt:"2024-03-20T10:30:00",readProgress:100},{id:2,blogId:5,userId:"user1",readAt:"2024-03-19T14:20:00",readProgress:80},{id:3,blogId:7,userId:"user1",readAt:"2024-03-18T09:15:00",readProgress:100},{id:4,blogId:1,userId:"user1",readAt:"2024-03-17T16:45:00",readProgress:100},{id:5,blogId:9,userId:"user1",readAt:"2024-03-16T11:20:00",readProgress:60}],l="user1",c=t=>new Promise(e=>setTimeout(e,t)),d=async(t=20)=>o?(await c(300),{data:[...n].filter(t=>t.userId===l).sort((t,e)=>new Date(e.readAt)-new Date(t.readAt)).slice(0,t)}):r.get(`/history?limit=${t}`),h=async(t,e=0)=>{if(o){await c(200);const s=n.findIndex(e=>e.userId===l&&e.blogId===t),a=(new Date).toISOString();if(-1!==s)return n[s].readAt=a,n[s].readProgress=Math.max(n[s].readProgress,e),{data:n[s]};{const s=Math.max(...n.map(t=>t.id),0)+1,i={id:s,blogId:t,userId:l,readAt:a,readProgress:e};return n.push(i),{data:i}}}return r.post("/history",{blogId:t,readProgress:e})},g=async(t,e)=>{if(o){await c(100);const s=n.find(e=>e.userId===l&&e.blogId===t);return s&&(s.readProgress=Math.max(s.readProgress,e)),{data:{success:!0}}}return r.put(`/history/blog/${t}/progress`,{readProgress:e})},u=async()=>{if(o){await c(300);const t=n.findIndex(t=>t.userId===l);while(-1!==t)n.splice(t,1),t=n.findIndex(t=>t.userId===l);return{data:{success:!0}}}return r.delete("/history")}},5431:function(t,e,s){t.exports=s.p+"img/zhihu.f5603c04.svg"},7394:function(t,e,s){t.exports=s.p+"img/github.1bb25b3c.svg"},8776:function(t,e,s){s.r(e),s.d(e,{default:function(){return O}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("header",{staticClass:"page-header"},[e("div",{staticClass:"welcome-section"},[e("WelcomeAnimation")],1)]),e("div",{staticClass:"main-container"},[e("div",{staticClass:"blog-section"},[e("div",{staticClass:"search-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKeyword,expression:"searchKeyword"}],staticClass:"search-input",attrs:{type:"text",placeholder:"æœç´¢åšå®¢æ ‡é¢˜æˆ–å†…å®¹..."},domProps:{value:t.searchKeyword},on:{input:function(e){e.target.composing||(t.searchKeyword=e.target.value)}}}),e("button",{staticClass:"btn search-btn",on:{click:t.handleSearch}},[e("svg",{attrs:{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"}},[e("path",{attrs:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}})]),t._v(" æœç´¢ ")]),t.searchKeyword?e("button",{staticClass:"btn reset-btn",on:{click:t.resetSearch}},[e("svg",{attrs:{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"}},[e("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})]),t._v(" é‡ç½® ")]):t._e()]),e("div",{staticClass:"sort-container"},[e("label",{staticClass:"sort-label"},[t._v("æ’åºæ–¹å¼:")]),e("div",{staticClass:"sort-options"},[e("button",{staticClass:"sort-option",class:{active:"latest"===t.sortBy},on:{click:function(e){return t.setSortBy("latest")}}},[t._v(" æœ€æ–° ")]),e("button",{staticClass:"sort-option",class:{active:"hot"===t.sortBy},on:{click:function(e){return t.setSortBy("hot")}}},[t._v(" çƒ­åº¦ ")]),e("button",{staticClass:"sort-option",class:{active:"likes"===t.sortBy},on:{click:function(e){return t.setSortBy("likes")}}},[t._v(" ç‚¹èµé‡ ")])])]),e("div",{staticClass:"blog-list"},[t._l(t.displayBlogs,function(s){return e("div",{key:s.id,staticClass:"blog-card"},[e("h2",{staticClass:"blog-title"},[t._v(t._s(s.title))]),e("p",{staticClass:"blog-summary"},[t._v(t._s(t.getSummary(s.content)))]),e("div",{staticClass:"blog-stats"},[e("span",{staticClass:"stat-item views"},[e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"}},[e("path",{attrs:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}})]),e("span",[t._v(t._s(t.formatNumber(s.viewCount||0)))])]),e("span",{staticClass:"stat-item likes"},[e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"}},[e("path",{attrs:{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}})]),e("span",[t._v(t._s(t.formatNumber(s.likeCount||0)))])]),e("span",{staticClass:"stat-item comments"},[e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"}},[e("path",{attrs:{d:"M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}})]),e("span",[t._v(t._s(t.formatNumber(s.commentCount||0)))])]),e("span",{staticClass:"stat-item forwards"},[e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"}},[e("path",{attrs:{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z"}})]),e("span",[t._v(t._s(t.formatNumber(s.forwardCount||0)))])])]),s.tags&&s.tags.length>0?e("div",{staticClass:"blog-tags"},t._l(s.tags,function(s){return e("span",{key:s.id||s,staticClass:"tag"},[t._v(" # "+t._s(s.name||s)+" ")])}),0):t._e(),e("div",{staticClass:"blog-info"},[e("span",{staticClass:"author"},[t._v("ä½œè€…: "+t._s(s.author))]),e("button",{staticClass:"follow-btn",class:{followed:t.isFollowing(s.author)},on:{click:function(e){return t.toggleFollow(s.author,e)}}},[t._v(" "+t._s(t.isFollowing(s.author)?"å·²å…³æ³¨":"å…³æ³¨")+" ")]),e("span",{staticClass:"status"},[t._v(t._s("published"===s.status?"å·²å‘å¸ƒ":"è‰ç¨¿"))])]),e("button",{staticClass:"btn view-btn",on:{click:function(e){return t.viewDetail(s.id)}}},[e("span",[t._v("æŸ¥çœ‹è¯¦æƒ…")])])])}),0!==t.displayBlogs.length||t.loading?t._e():e("div",{staticClass:"empty"},[e("div",{staticClass:"empty-icon"},[t._v("ğŸ“")]),e("p",[t._v(t._s(t.searchKeyword?"æ²¡æœ‰æ‰¾åˆ°ç›¸å…³åšå®¢":"æš‚æ— åšå®¢æ–‡ç« "))])]),t.loading?e("div",{staticClass:"loading"},[e("div",{staticClass:"loading-spinner"}),e("p",[t._v("æ­£åœ¨åŠ è½½åšå®¢å†…å®¹...")])]):t._e(),t.displayBlogs.length>0&&!t.loading&&t.totalPages>1?e("div",{staticClass:"pagination"},[e("button",{staticClass:"pagination-btn",attrs:{disabled:0===t.currentPage,title:"ç¬¬ "+t.currentPage+" é¡µ"},on:{click:t.prevPage}},[e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"}},[e("path",{attrs:{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}})]),t._v(" ä¸Šä¸€é¡µ ")]),t.showEllipsisBefore?e("span",{staticClass:"pagination-ellipsis"},[t._v("...")]):t._e(),t._l(t.visiblePages,function(s){return e("button",{key:s,staticClass:"pagination-btn page-number",class:{active:s===t.currentPage},attrs:{title:"ç¬¬ "+(s+1)+" é¡µ"},on:{click:function(e){return t.changePage(s)}}},[t._v(" "+t._s(s+1)+" ")])}),t.showEllipsisAfter?e("span",{staticClass:"pagination-ellipsis"},[t._v("...")]):t._e(),e("button",{staticClass:"pagination-btn",attrs:{disabled:t.currentPage===t.totalPages-1,title:"ç¬¬ "+(t.currentPage+2)+" é¡µ"},on:{click:t.nextPage}},[t._v(" ä¸‹ä¸€é¡µ "),e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"}},[e("path",{attrs:{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}})])])],2):t._e()],2)]),e("div",{staticClass:"sidebar"},[e("div",{staticClass:"sidebar-card"},[e("HotTopics",{attrs:{limit:5}})],1),e("div",{staticClass:"sidebar-card"},[e("TagsSection",{attrs:{title:"çƒ­é—¨æ ‡ç­¾",selectedTagId:t.selectedTagId},on:{"tag-selected":t.handleTagSelect}})],1),e("div",{staticClass:"sidebar-card"},[e("CategorySection",{on:{"select-category":t.handleCategorySelect}})],1),e("div",{staticClass:"sidebar-card"},[e("ReadHistory",{attrs:{limit:5}})],1)])])])},i=[],o=(s(4114),s(8111),s(2489),s(5426)),r=(s(1701),s(2505)),n=s.n(r);const l=!0,c=n().create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json"}}),d=[{id:1,name:"Vue.js",count:15,color:"#42b983"},{id:2,name:"Spring Boot",count:12,color:"#673ab7"},{id:3,name:"å‰ç«¯å·¥ç¨‹åŒ–",count:8,color:"#ff9800"},{id:4,name:"æ¶æ„è®¾è®¡",count:6,color:"#e91e63"},{id:5,name:"JavaScript",count:20,color:"#f7df1e"},{id:6,name:"TypeScript",count:10,color:"#3178c6"},{id:7,name:"å¾®æœåŠ¡",count:7,color:"#00bcd4"},{id:8,name:"Docker",count:9,color:"#2496ed"},{id:9,name:"æ€§èƒ½ä¼˜åŒ–",count:11,color:"#ff5722"},{id:10,name:"æ•°æ®åº“",count:8,color:"#9c27b0"}],h=[{blogId:1,tagIds:[1,5,9]},{blogId:2,tagIds:[1,6]},{blogId:3,tagIds:[1,9]},{blogId:4,tagIds:[1,5]},{blogId:5,tagIds:[1,6]},{blogId:6,tagIds:[2,4]},{blogId:7,tagIds:[2,7,4]},{blogId:8,tagIds:[2,10]},{blogId:9,tagIds:[2,7]},{blogId:10,tagIds:[2,9,7]},{blogId:11,tagIds:[3,5,6,8]},{blogId:12,tagIds:[3,9]},{blogId:13,tagIds:[3,8]},{blogId:14,tagIds:[3,9]},{blogId:15,tagIds:[3,6]},{blogId:16,tagIds:[4,7]},{blogId:17,tagIds:[4,7]},{blogId:18,tagIds:[4,7]},{blogId:19,tagIds:[4,8]},{blogId:20,tagIds:[4,8]}],g=t=>new Promise(e=>setTimeout(e,t)),u=async()=>l?(await g(300),{data:d}):c.get("/tags"),m=async(t=10)=>l?(await g(200),{data:[...d].sort((t,e)=>e.count-t.count).slice(0,t)}):c.get(`/tags/popular?limit=${t}`),p=async(t,e="latest")=>{if(l){await g(400);const s=await(0,o.Zt)(),a=s.data||[],i=h.filter(e=>e.tagIds.includes(t)).map(t=>t.blogId),r=a.filter(t=>i.includes(t.id));switch(e){case"hot":r.sort((t,e)=>e.viewCount-t.viewCount);break;case"likes":r.sort((t,e)=>e.likeCount-t.likeCount);break;case"latest":default:r.sort((t,e)=>new Date(e.createdAt)-new Date(t.createdAt));break}return{data:r}}return c.get(`/tags/${t}/blogs?sortBy=${e}`)};var v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"hot-topics"},[e("h3",[t._v("çƒ­é—¨è¯é¢˜")]),t.loading?e("div",{staticClass:"loading"},[t._v("åŠ è½½ä¸­...")]):0===t.hotTopics.length?e("div",{staticClass:"empty"},[t._v("æš‚æ— çƒ­é—¨è¯é¢˜")]):e("div",{staticClass:"topics-list"},t._l(t.hotTopics,function(s,a){return e("div",{key:s.id,staticClass:"topic-item",attrs:{title:s.title},on:{click:function(e){return t.navigateToTopic(s)}}},[e("span",{staticClass:"topic-rank",class:{top3:a<3}},[t._v(t._s(a+1))]),e("div",{staticClass:"topic-content"},[e("h4",{staticClass:"topic-title"},[t._v(t._s(s.title))]),e("div",{staticClass:"topic-meta"},[e("span",{staticClass:"topic-category"},[t._v(t._s(s.category))]),e("span",{staticClass:"topic-stats"},[e("span",{staticClass:"views"},[t._v(t._s(t.formatNumber(s.views))+" æµè§ˆ")]),e("span",{staticClass:"comments"},[t._v(t._s(t.formatNumber(s.comments))+" è¯„è®º")])])])])])}),0),t.hotTopics.length>0?e("div",{staticClass:"refresh-container"},[e("button",{staticClass:"refresh-btn",attrs:{disabled:t.loading},on:{click:t.refreshTopics}},[t._v(" åˆ·æ–°è¯é¢˜ ")])]):t._e()])},f=[],y=s(6886),C={name:"HotTopics",props:{limit:{type:Number,default:5}},data(){return{hotTopics:[],loading:!1}},created(){this.fetchHotTopics(),this.refreshTimer=setInterval(()=>{this.fetchHotTopics()},3e5)},beforeDestroy(){this.refreshTimer&&clearInterval(this.refreshTimer)},methods:{async fetchHotTopics(){try{this.loading=!0;const t=await(0,y.K1)(this.limit);this.hotTopics=t.data||[]}catch(t){console.error("è·å–çƒ­é—¨è¯é¢˜å¤±è´¥:",t),alert("è·å–çƒ­é—¨è¯é¢˜å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}finally{this.loading=!1}},refreshTopics(){this.fetchHotTopics()},navigateToTopic(t){console.log("æŸ¥çœ‹è¯é¢˜:",t.title,"ID:",t.id),this.$router.push({path:`/topic/${t.id}`,query:{title:t.title,category:t.category}})},formatNumber(t){return t>=1e4?(t/1e4).toFixed(1)+"w":t>=1e3?(t/1e3).toFixed(1)+"k":t.toString()}}},b=C,_=s(1656),w=(0,_.A)(b,v,f,!1,null,"c244412c",null),T=w.exports,I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"category-section"},[e("div",{staticClass:"section-header"},[e("h3",[t._v("ç½‘ç«™åˆ†ç±»")]),e("div",{staticClass:"sort-controls"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],staticClass:"sort-select",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.sortBy=e.target.multiple?s:s[0]},t.sortCategories]}},[e("option",{attrs:{value:"name"}},[t._v("åç§°")]),e("option",{attrs:{value:"count"}},[t._v("æ–‡ç« æ•°é‡")]),e("option",{attrs:{value:"activity"}},[t._v("æ´»è·ƒåº¦")])])])]),e("div",{staticClass:"categories-list"},t._l(t.sortedCategories,function(a){return e("div",{key:a.id,staticClass:"category-card",class:{"hot-category":a.isHot},style:{borderLeftColor:a.color},on:{click:function(e){return t.$emit("select-category",a)}}},[e("div",{staticClass:"category-header"},[e("div",{staticClass:"category-icon",style:{backgroundColor:`${a.color}20`}},["github"===a.icon?e("img",{staticClass:"platform-icon",attrs:{src:s(7394),alt:a.name}}):"bilibili"===a.icon?e("img",{staticClass:"platform-icon",attrs:{src:s(9811),alt:a.name}}):"juejin"===a.icon?e("img",{staticClass:"platform-icon",attrs:{src:s(9488),alt:a.name}}):"zhihu"===a.icon?e("img",{staticClass:"platform-icon",attrs:{src:s(5431),alt:a.name}}):"lookae"===a.icon?e("img",{staticClass:"platform-icon",attrs:{src:s(749),alt:a.name}}):"csdn"===a.icon?e("img",{staticClass:"platform-icon",attrs:{src:s(887),alt:a.name}}):e("span",[t._v(t._s(a.icon||"ğŸ“"))])]),e("div",{staticClass:"category-info"},[e("div",{staticClass:"category-title"},[e("span",{staticClass:"category-name"},[t._v(t._s(a.name))]),a.isHot?e("span",{staticClass:"hot-tag"},[t._v("çƒ­é—¨")]):t._e()]),e("p",{staticClass:"category-description"},[t._v(t._s(a.description||"æš‚æ— æè¿°"))])])]),e("div",{staticClass:"category-stats"},[e("div",{staticClass:"stat-item"},[e("span",{staticClass:"stat-label"},[t._v("æ–‡ç« æ•°:")]),e("span",{staticClass:"stat-value"},[t._v(t._s(a.count||0))])]),e("div",{staticClass:"stat-item"},[e("span",{staticClass:"stat-label"},[t._v("æ´»è·ƒåº¦:")]),e("div",{staticClass:"activity-bar"},[e("div",{staticClass:"activity-fill",style:{width:`${a.activity||0}%`,backgroundColor:a.color}})])])]),e("div",{staticClass:"category-meta"},[e("span",{staticClass:"update-time"},[t._v(t._s(t.formatUpdateTime(a.updatedAt)))]),a.subcategories&&a.subcategories.length>0?e("span",{staticClass:"subcategory-count"},[t._v(" "+t._s(a.subcategories.length)+"ä¸ªå­åˆ†ç±» ")]):t._e()]),a.subcategories&&a.subcategories.length>0?e("div",{staticClass:"subcategories-section"},[e("button",{staticClass:"toggle-btn",class:{expanded:t.expandedSubcategories.includes(a.id)},on:{click:function(e){return e.stopPropagation(),t.toggleSubcategories(a.id)}}},[t._v(" "+t._s(t.expandedSubcategories.includes(a.id)?"æ”¶èµ·":"å±•å¼€")+"å­åˆ†ç±» ")]),t.expandedSubcategories.includes(a.id)?e("div",{staticClass:"subcategories-list"},t._l(a.subcategories,function(s){return e("div",{key:s.id,staticClass:"subcategory-item",on:{click:function(e){return e.stopPropagation(),t.$emit("select-category",s)}}},[e("span",{staticClass:"subcat-name"},[t._v(t._s(s.name))]),e("span",{staticClass:"subcat-count"},[t._v("("+t._s(s.count||0)+")")])])}),0):t._e()]):t._e()])}),0),e("div",{staticClass:"section-footer"},[e("button",{staticClass:"view-all-btn",on:{click:t.viewAllCategories}},[t._v("æŸ¥çœ‹å…¨éƒ¨åˆ†ç±»")])]),t.loading?e("div",{staticClass:"loading"},[t._v("åŠ è½½ä¸­...")]):t._e()])},S=[],x={name:"CategorySection",data(){return{categories:[{id:1,name:"æŠ€æœ¯åˆ†äº«",description:"åˆ†äº«å„ç±»æŠ€æœ¯çŸ¥è¯†å’Œç»éªŒ",icon:"ğŸ’»",color:"#4a90e2",postCount:42,activeUsers:128,activity:75},{id:2,name:"ç”Ÿæ´»éšç¬”",description:"è®°å½•ç”Ÿæ´»ä¸­çš„ç‚¹ç‚¹æ»´æ»´",icon:"ğŸ“",color:"#52c41a",postCount:28,activeUsers:89,activity:60},{id:3,name:"èŒåœºç»éªŒ",description:"èŒåœºå¿ƒå¾—ä¸èŒä¸šå‘å±•å»ºè®®",icon:"ğŸ’¼",color:"#faad14",postCount:36,activeUsers:156,activity:82},{id:4,name:"å…´è¶£çˆ±å¥½",description:"ä¸ªäººå…´è¶£ä¸çˆ±å¥½äº¤æµ",icon:"ğŸ®",color:"#f5222d",postCount:51,activeUsers:203,activity:90},{id:5,name:"å­¦ä¹ èµ„æº",description:"ä¼˜è´¨å­¦ä¹ èµ„æ–™ä¸æ•™ç¨‹åˆ†äº«",icon:"ğŸ“š",color:"#1890ff",postCount:33,activeUsers:178,activity:85},{id:6,name:"å¥åº·ç”Ÿæ´»",description:"å¥åº·é¥®é£Ÿä¸ç”Ÿæ´»æ–¹å¼",icon:"ğŸƒ",color:"#52c41a",postCount:24,activeUsers:92,activity:55},{id:7,name:"æ—…è¡Œè§é—»",description:"æ—…è¡Œç»å†ä¸æ™¯ç‚¹æ¨è",icon:"âœˆï¸",color:"#fa8c16",postCount:47,activeUsers:145,activity:78},{id:8,name:"ç§‘æŠ€å‰æ²¿",description:"æœ€æ–°ç§‘æŠ€åŠ¨æ€ä¸è¶‹åŠ¿",icon:"ğŸš€",color:"#722ed1",postCount:38,activeUsers:167,activity:88}],loading:!1,sortBy:"name",expandedSubcategories:[]}},created(){this.fetchCategories()},computed:{sortedCategories(){const t=[...this.categories];switch(this.sortBy){case"count":return t.sort((t,e)=>(e.count||0)-(t.count||0));case"activity":return t.sort((t,e)=>(e.activity||0)-(t.activity||0));case"name":default:return t.sort((t,e)=>t.name.localeCompare(e.name))}}},methods:{async fetchCategories(){try{this.loading=!0;const t=await(0,y.bW)();let e=t.data||[];this.categories=this.enrichCategories(e)}catch(t){console.error("è·å–åˆ†ç±»å¤±è´¥:",t),this.categories=this.getMockCategories()}finally{this.loading=!1}},enrichCategories(t){const e=["ğŸ“","ğŸ’»","ğŸ¨","ğŸ“Š","ğŸš€","ğŸ®","ğŸ“±","ğŸµ","ğŸ“š","ğŸ¯"],s=["æœ€æ–°æŠ€æœ¯åŠ¨æ€å’Œè¶‹åŠ¿åˆ†æ","å¼€å‘ç»éªŒåˆ†äº«å’Œæ•™ç¨‹","è®¾è®¡ç†å¿µå’Œåˆ›æ„ä½œå“","æ•°æ®åˆ†æå’Œå¯è§†åŒ–","é¡¹ç›®ç®¡ç†å’Œæ•ˆç‡å·¥å…·","æ¸¸æˆå¼€å‘å’Œè¯„æµ‹","ç§»åŠ¨åº”ç”¨å¼€å‘å’Œä½“éªŒ","éŸ³ä¹åˆ¶ä½œå’Œæ¬£èµ","è¯»ä¹¦ç¬”è®°å’Œæ¨è","ç›®æ ‡è®¾å®šå’Œè‡ªæˆ‘æå‡"];return t.map((t,a)=>({...t,icon:t.icon||e[a%e.length],description:t.description||s[a%s.length],count:t.count||Math.floor(50*Math.random())+5,activity:t.activity||Math.floor(100*Math.random()),isHot:t.isHot||a%3===0,updatedAt:t.updatedAt||new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString(),subcategories:t.subcategories||this.generateSubcategories(t.name,a)}))},generateSubcategories(t,e){const s=[[`${t}-åŸºç¡€`,`${t}-è¿›é˜¶`,`${t}-é«˜çº§`],[`${t}-æ•™ç¨‹`,`${t}-æ¡ˆä¾‹`,`${t}-å·¥å…·`],[`${t}-å‰ç«¯`,`${t}-åç«¯`,`${t}-æ¶æ„`]];if(Math.random()>.3){const t=s[e%s.length],a=Math.floor(2*Math.random())+1;return t.slice(0,a).map((t,s)=>({id:`${e}-${s}`,name:t,count:Math.floor(20*Math.random())+1}))}return[]},getMockCategories(){const t=["æŠ€æœ¯åšå®¢","è®¾è®¡åˆ†äº«","äº§å“æ€ç»´","å¼€å‘æ•™ç¨‹","æ•°æ®åˆ†æ","é¡¹ç›®ç®¡ç†"],e=["#42b983","#3498db","#e74c3c","#f39c12","#9b59b6","#1abc9c"];return t.map((t,s)=>({id:s+1,name:t,color:e[s%e.length],icon:["ğŸ“","ğŸ’»","ğŸ¨","ğŸ“Š","ğŸš€","ğŸ¯"][s%6],description:`è¿™æ˜¯å…³äº${t}çš„åˆ†ç±»æè¿°ï¼ŒåŒ…å«äº†ä¸°å¯Œçš„ç›¸å…³å†…å®¹ã€‚`,count:Math.floor(50*Math.random())+10,activity:Math.floor(100*Math.random()),isHot:s%3===0,updatedAt:new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString(),subcategories:this.generateSubcategories(t,s)}))},sortCategories(){},toggleSubcategories(t){const e=this.expandedSubcategories.indexOf(t);e>-1?this.expandedSubcategories.splice(e,1):this.expandedSubcategories.push(t)},formatUpdateTime(t){if(!t)return"æœªçŸ¥æ›´æ–°";const e=new Date(t),s=new Date,a=Math.floor((s-e)/864e5);return 0===a?"ä»Šå¤©æ›´æ–°":1===a?"æ˜¨å¤©æ›´æ–°":a<7?`${a}å¤©å‰æ›´æ–°`:a<30?`${Math.floor(a/7)}å‘¨å‰æ›´æ–°`:e.toLocaleDateString("zh-CN")},viewAllCategories(){this.$router.push("/categories")}}},P=x,B=(0,_.A)(P,I,S,!1,null,"6c2f45a0",null),k=B.exports,A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tags-section"},[e("div",{staticClass:"section-header"},[e("h3",{staticClass:"section-title"},[t._v(t._s(t.title))]),t.allowSort?e("div",{staticClass:"sort-controls"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],staticClass:"sort-select",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.sortBy=e.target.multiple?s:s[0]},t.sortTags]}},[e("option",{attrs:{value:"count"}},[t._v("æŒ‰çƒ­åº¦")]),e("option",{attrs:{value:"name"}},[t._v("æŒ‰åç§°")]),e("option",{attrs:{value:"random"}},[t._v("éšæœºæ’åº")])])]):t._e()]),t.allowSearch?e("div",{staticClass:"search-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKeyword,expression:"searchKeyword"}],staticClass:"search-input",attrs:{type:"text",placeholder:"æœç´¢æ ‡ç­¾..."},domProps:{value:t.searchKeyword},on:{input:[function(e){e.target.composing||(t.searchKeyword=e.target.value)},t.debounceSearch]}})]):t._e(),t.displayedTags.length>0?e("div",{staticClass:"tags-cloud"},[e("transition-group",{attrs:{name:"tag",tag:"span"}},t._l(t.displayedTags,function(s){return e("span",{key:s.id,staticClass:"tag-item",class:{active:t.selectedTagId===s.id},style:t.getTagStyle(s),on:{click:function(e){return t.selectTag(s.id,s.name)},mouseenter:function(e){t.tagHover=s.id},mouseleave:function(e){t.tagHover=null}}},[e("span",{staticClass:"tag-name"},[t._v(t._s(s.name))]),t.showCount?e("span",{staticClass:"tag-count"},[t._v("("+t._s(s.count||0)+")")]):t._e()])}),0)],1):t.loading?t._e():e("div",{staticClass:"empty-tags"},[t._v(" "+t._s(t.emptyText||"æš‚æ— æ ‡ç­¾")+" ")]),t.loading?e("div",{staticClass:"loading-tags"},[e("div",{staticClass:"loading-spinner"}),e("span",[t._v("åŠ è½½æ ‡ç­¾ä¸­...")])]):t._e()])},M=[],$={name:"TagsSection",props:{title:{type:String,default:"çƒ­é—¨æ ‡ç­¾"},showCount:{type:Boolean,default:!0},isHotTags:{type:Boolean,default:!0},limit:{type:Number,default:20},emptyText:{type:String,default:""},selectedTagId:{type:Number,default:null},allowSort:{type:Boolean,default:!0},allowSearch:{type:Boolean,default:!0},dynamicSize:{type:Boolean,default:!0},minFontSize:{type:Number,default:12},maxFontSize:{type:Number,default:18},useTagColors:{type:Boolean,default:!0}},data(){return{tags:[],loading:!1,sortBy:"count",searchKeyword:"",tagHover:null,searchTimer:null}},created(){this.fetchTags()},computed:{displayedTags(){let t=this.tags;if(this.searchKeyword){const e=this.searchKeyword.toLowerCase();t=t.filter(t=>t.name.toLowerCase().includes(e))}return t},tagStats(){if(!this.tags.length)return{min:0,max:1};const t=this.tags.map(t=>t.count||0);return{min:Math.min(...t),max:Math.max(...t)}}},methods:{async fetchTags(){try{let t;this.loading=!0,t=this.isHotTags?await m(this.limit):await u(),this.tags=t.data||[],this.sortTags()}catch(t){console.error("è·å–æ ‡ç­¾å¤±è´¥:",t),this.$emit("error",t)}finally{this.loading=!1}},selectTag(t,e){const s=this.selectedTagId!==t;this.$emit("tag-selected",{id:t,name:e,isActive:s}),this.$emit("tag-clicked",{id:t,name:e})},sortTags(){switch(this.sortBy){case"count":this.tags.sort((t,e)=>(e.count||0)-(t.count||0));break;case"name":this.tags.sort((t,e)=>t.name.localeCompare(e.name));break;case"random":for(let t=this.tags.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[this.tags[t],this.tags[e]]=[this.tags[e],this.tags[t]]}break}},debounceSearch(){this.searchTimer&&clearTimeout(this.searchTimer),this.searchTimer=setTimeout(()=>{this.$emit("search",this.searchKeyword)},300)},getTagStyle(t){const e={};if(this.dynamicSize){const{min:s,max:a}=this.tagStats,i=a-s||1,o=this.minFontSize+((t.count||0)-s)/i*(this.maxFontSize-this.minFontSize);e.fontSize=`${Math.round(o)}px`}return this.useTagColors&&t.color&&(e.color=t.color),this.tagHover===t.id&&(e.transform="scale(1.05) translateY(-2px)"),e},refreshTags(){this.fetchTags()}},beforeDestroy(){this.searchTimer&&clearTimeout(this.searchTimer)}},z=$,H=(0,_.A)(z,A,M,!1,null,"a27e9d32",null),D=H.exports,L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"read-history"},[e("div",{staticClass:"section-header"},[e("h3",{staticClass:"section-title"},[t._v("é˜…è¯»å†å²")]),t.history.length>0?e("button",{staticClass:"clear-btn",attrs:{disabled:t.clearing},on:{click:t.confirmClearHistory}},[t._v(" "+t._s(t.clearing?"æ¸…é™¤ä¸­...":"æ¸…ç©º")+" ")]):t._e()]),t.history.length>0?e("div",{staticClass:"history-list"},t._l(t.history,function(s){return e("div",{key:s.id,staticClass:"history-item"},[e("div",{staticClass:"history-content",on:{click:function(e){return t.viewBlog(s.blogId)}}},[e("h4",{staticClass:"blog-title"},[t._v(t._s(t.getBlogTitle(s.blogId)))]),e("div",{staticClass:"history-meta"},[e("span",{staticClass:"read-time"},[t._v(t._s(t.formatTime(s.readAt)))]),s.readProgress>0?e("span",{staticClass:"read-progress"},[t._v(" "+t._s(s.readProgress)+"% å·²è¯» ")]):t._e()])])])}),0):t.loading?t._e():e("div",{staticClass:"empty-history"},[t._v(" æš‚æ— é˜…è¯»è®°å½• ")]),t.loading?e("div",{staticClass:"loading-history"},[t._v(" åŠ è½½é˜…è¯»è®°å½•ä¸­... ")]):t._e()])},F=[],K=(s(116),s(2564)),N={name:"ReadHistory",props:{limit:{type:Number,default:10}},data(){return{history:[],loading:!1,clearing:!1,blogList:[]}},created(){this.fetchBlogList(),this.fetchReadHistory()},watch:{$route:{handler(){this.fetchReadHistory()},deep:!0}},methods:{async fetchReadHistory(){try{this.loading=!0;const t=await(0,K.c1)(this.limit);this.history=t.data||[]}catch(t){console.error("è·å–é˜…è¯»å†å²å¤±è´¥:",t)}finally{this.loading=!1}},async fetchBlogList(){try{const t=await(0,o.Zt)();this.blogList=t.data.content||[]}catch(t){console.error("è·å–åšå®¢åˆ—è¡¨å¤±è´¥:",t)}},getBlogTitle(t){const e=this.blogList.find(e=>e.id===t);return e?e.title:`åšå®¢ #${t}`},viewBlog(t){this.$router.push(`/blog/${t}`)},confirmClearHistory(){window.confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰é˜…è¯»å†å²è®°å½•å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚")&&this.clearAllHistory()},async clearAllHistory(){try{this.clearing=!0,await(0,K.Me)(),this.history=[]}catch(t){console.error("æ¸…ç©ºé˜…è¯»å†å²å¤±è´¥:",t)}finally{this.clearing=!1}},formatTime(t){if(!t)return"";const e=new Date(t),s=new Date,a=s-e;return a<6e4?"åˆšåˆšé˜…è¯»":a<36e5?`${Math.floor(a/6e4)}åˆ†é’Ÿå‰é˜…è¯»`:a<864e5?`${Math.floor(a/36e5)}å°æ—¶å‰é˜…è¯»`:a<2592e6?`${Math.floor(a/864e5)}å¤©å‰é˜…è¯»`:`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} é˜…è¯»`}}},R=N,E=(0,_.A)(R,L,F,!1,null,"f4c4a772",null),U=E.exports,V=s(9734),W={name:"Home",components:{HotTopics:T,CategorySection:k,TagsSection:D,ReadHistory:U,WelcomeAnimation:V["default"]},data(){return{blogs:[],searchKeyword:"",searchResults:[],isSearching:!1,loading:!1,selectedCategory:null,selectedTagId:null,followingAuthors:[],sortBy:"latest",currentPage:0,pageSize:5,totalPages:0,totalElements:0}},created(){this.loadBlogs()},watch:{$route:{handler(){this.loadBlogs()},immediate:!1}},computed:{displayBlogs(){return this.isSearching?this.searchResults:this.blogs},pageNumbers(){const t=[];Math.min(this.totalPages,5);let e=Math.max(0,this.currentPage-2),s=Math.min(this.totalPages-1,e+4);s-e<4&&(e=Math.max(0,s-4));for(let a=e;a<=s;a++)t.push(a);return t},visiblePages(){const t=[],e=this.totalPages,s=this.currentPage,a=Math.max(0,s-3),i=Math.min(e-1,s+3);a>0&&t.push(0);for(let o=a;o<=i;o++)t.push(o);return i<e-1&&t.push(e-1),t},showEllipsisBefore(){return this.currentPage>3},showEllipsisAfter(){return this.currentPage<this.totalPages-4}},methods:{async loadBlogs(){this.isSearching=!1;try{this.loading=!0;const t=await(0,o.Zt)(this.currentPage,this.pageSize,this.sortBy);t.data.content?(this.blogs=t.data.content,this.totalPages=t.data.totalPages,this.totalElements=t.data.totalElements):(this.blogs=t.data||[],this.totalPages=Math.ceil(this.blogs.length/this.pageSize),this.totalElements=this.blogs.length)}catch(t){console.error("è·å–åšå®¢åˆ—è¡¨å¤±è´¥:",t),this.blogs=[]}finally{this.loading=!1}},handleCategorySelect(t){this.selectedCategory=t,console.log("é€‰æ‹©äº†åˆ†ç±»:",t.name),this.$router.push(`/category/${t.id}`)},async handleSearch(){if(!this.searchKeyword.trim())return this.isSearching=!1,this.currentPage=0,void this.loadBlogs();try{this.loading=!0;const t=await(0,o.uV)(this.searchKeyword.trim(),this.currentPage,this.pageSize,this.sortBy);t.data.content?(this.searchResults=t.data.content,this.totalPages=t.data.totalPages,this.totalElements=t.data.totalElements):(this.searchResults=t.data||[],this.totalPages=Math.ceil(this.searchResults.length/this.pageSize),this.totalElements=this.searchResults.length),this.isSearching=!0}catch(t){console.error("æœç´¢åšå®¢å¤±è´¥:",t),this.localSearch()}finally{this.loading=!1}},changePage(t){t>=0&&t<this.totalPages&&t!==this.currentPage&&(this.currentPage=t)},prevPage(){this.currentPage>0&&this.changePage(this.currentPage-1)},nextPage(){this.currentPage<this.totalPages-1&&this.changePage(this.currentPage+1)},resetSearch(){this.searchKeyword="",this.searchResults=[],this.isSearching=!1},setSortBy(t){this.sortBy!==t&&(this.sortBy=t,this.currentPage=0,this.isSearching?this.handleSearch():this.loadBlogs())},localSearch(){const t=this.searchKeyword.toLowerCase();this.searchResults=this.blogs.filter(e=>e.title.toLowerCase().includes(t)||e.content.toLowerCase().includes(t)),this.isSearching=!0},async handleTagSelect(t){try{if(this.loading=!0,this.selectedTagId=t.isActive?t.id:null,this.currentPage=0,t.isActive){const e=await p(t.id,this.sortBy);if(e.data.content)this.searchResults=e.data.content,this.totalPages=e.data.totalPages,this.totalElements=e.data.totalElements;else{let t=e.data||[];const s=this.currentPage*this.pageSize,a=s+this.pageSize;this.searchResults=t.slice(s,a),this.totalPages=Math.ceil(t.length/this.pageSize),this.totalElements=t.length}this.isSearching=!0}else this.loadBlogs(),this.isSearching=!1}catch(e){console.error("æŒ‰æ ‡ç­¾ç­›é€‰åšå®¢å¤±è´¥:",e)}finally{this.loading=!1}},viewDetail(t){this.$router.push(`/blog/${t}`)},getSummary(t){return t?t.substring(0,100)+"...":""},formatNumber(t){return t>=1e4?(t/1e4).toFixed(1)+"w":t>=1e3?(t/1e3).toFixed(1)+"k":t.toString()},isFollowing(t){return this.followingAuthors.includes(t)},toggleFollow(t,e){if(e&&e.currentTarget){const t=e.currentTarget;t.style.transform="scale(0.95)",setTimeout(()=>{t.style.transform=""},200)}const s=!this.isFollowing(t);if(s)this.followingAuthors.push(t),console.log(`å·²æˆåŠŸå…³æ³¨${t}`);else{const e=this.followingAuthors.indexOf(t);e>-1&&this.followingAuthors.splice(e,1),console.log(`${t}å–æ¶ˆå…³æ³¨æˆåŠŸ`)}}}},j=W,q=(0,_.A)(j,a,i,!1,null,"a9f6277c",null),O=q.exports},9488:function(t,e,s){t.exports=s.p+"img/juejin.0dd10a7b.svg"},9734:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"welcome-container"},[e("div",{staticClass:"animation-wrapper"},[e("div",{staticClass:"text-container"},[e("h1",[t._v(" "+t._s(t.displayedText)+" "),e("span",{staticClass:"cursor"})])])])])},i=[],o={name:"WelcomeAnimation",data(){return{welcomeTexts:["æ¬¢è¿æ¥åˆ° ç§‘æŠ€å¼•é¢†æ—¶ä»£ æ¢ç´¢æ— é™å¯èƒ½ è¿™é‡Œæ˜¯å±•ç¤ºåˆ›æ„é±¼æŠ€æœ¯çš„å¹³å°ã€‚","æ·±å¤œä¸‹ç­ çœ‹çœ‹ä»Šå¤©çš„ä¸–ç•Œåˆå‘ç”Ÿäº†ä»€ä¹ˆå§ï¼Ÿï¼","äººæ€»è¦è¿›æ­¥ ç§‘æŠ€ä¹Ÿæ˜¯","æ‡’ ä¹Ÿæ˜¯åœ¨è¿›æ­¥ ç§‘æŠ€ ä¹Ÿæ˜¯æ‡’çš„ä¸€éƒ¨åˆ†","åˆ›æ–°æ”¹å˜ä¸–ç•Œ ç§‘æŠ€ç‚¹äº®æœªæ¥","æ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„å¼€å§‹ æ¯ä¸€æ¬¡æ€è€ƒéƒ½æ˜¯è¿›æ­¥","æ¢ç´¢æœªçŸ¥ åˆ›é€ å¯èƒ½"],displayedText:"",currentTextIndex:0,currentCharIndex:0,isDeleting:!1,typeSpeed:80,deleteSpeed:100,pauseAfterType:2e3,pauseAfterDelete:500,animationId:null,lastTime:0,randomSpeed:!0,minSpeedVariation:.7,maxSpeedVariation:1.3}},mounted(){setTimeout(()=>{this.typeWriterLoop()},300)},beforeUnmount(){this.animationId&&cancelAnimationFrame(this.animationId)},methods:{typeWriterLoop(t=0){this.lastTime||(this.lastTime=t);const e=this.welcomeTexts[this.currentTextIndex],s=this.randomSpeed?Math.random()*(this.maxSpeedVariation-this.minSpeedVariation)+this.minSpeedVariation:1,a=this.isDeleting?this.deleteSpeed/s:this.typeSpeed/s;if(t-this.lastTime>a){if(this.isDeleting){if(this.displayedText=e.substring(0,this.currentCharIndex-1),this.currentCharIndex--,0===this.currentCharIndex)return this.isDeleting=!1,this.currentTextIndex=(this.currentTextIndex+1)%this.welcomeTexts.length,void setTimeout(()=>{this.lastTime=0,this.animationId=requestAnimationFrame(t=>this.typeWriterLoop(t))},this.pauseAfterDelete)}else if(this.displayedText=e.substring(0,this.currentCharIndex+1),this.currentCharIndex++,this.currentCharIndex===e.length)return this.isDeleting=!0,void setTimeout(()=>{this.lastTime=0,this.animationId=requestAnimationFrame(t=>this.typeWriterLoop(t))},this.pauseAfterType);this.lastTime=t}this.animationId=requestAnimationFrame(t=>this.typeWriterLoop(t))},resetTypewriter(){this.animationId&&cancelAnimationFrame(this.animationId),this.displayedText="",this.currentTextIndex=0,this.currentCharIndex=0,this.isDeleting=!1,this.lastTime=0,this.animationId=requestAnimationFrame(t=>this.typeWriterLoop(t))}}},r=o,n=s(1656),l=(0,n.A)(r,a,i,!1,null,"7324f091",null),c=l.exports},9811:function(t,e,s){t.exports=s.p+"img/bilibili.52a92513.svg"}}]);
//# sourceMappingURL=776.baadbdf3.js.map