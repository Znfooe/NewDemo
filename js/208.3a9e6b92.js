"use strict";(self["webpackChunkvue_frontend"]=self["webpackChunkvue_frontend"]||[]).push([[208],{3208:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});s(8111),s(1701);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"category-page"},[e("h1",[t._v(t._s(t.categoryName||"åˆ†ç±»æµè§ˆ"))]),e("div",{staticClass:"category-content"},[e("div",{staticClass:"category-nav"},t._l(t.categories,function(s){return e("div",{key:s.id,staticClass:"nav-item",class:{active:t.selectedCategoryId===s.id},style:{borderColor:s.color},on:{click:function(e){return t.selectCategory(s)}}},[e("div",{staticClass:"nav-item-icon",style:{backgroundColor:s.color}},[t._v(" "+t._s(s.icon||"ğŸ“")+" ")]),e("span",[t._v(t._s(s.name))])])}),0),e("div",{staticClass:"content-wrapper"},[t.selectedCategory?e("div",{staticClass:"category-detail-card"},[e("div",{staticClass:"category-header"},[e("div",{staticClass:"category-icon",style:{backgroundColor:t.selectedCategory.color+"20",borderColor:t.selectedCategory.color}},[e("span",[t._v(t._s(t.selectedCategory.icon||"ğŸ“"))])]),e("div",{staticClass:"category-info"},[e("h2",{staticClass:"category-title"},[t._v(t._s(t.selectedCategory.name))]),e("p",{staticClass:"category-description"},[t._v(t._s(t.selectedCategory.description||"æš‚æ— åˆ†ç±»æè¿°"))])])]),e("div",{staticClass:"category-stats"},[e("div",{staticClass:"stat-item"},[e("span",{staticClass:"stat-value"},[t._v(t._s(t.formatNumber(t.selectedCategory.postCount||0)))]),e("span",{staticClass:"stat-label"},[t._v("å†…å®¹æ•°é‡")])]),e("div",{staticClass:"stat-item"},[e("span",{staticClass:"stat-value"},[t._v(t._s(t.formatNumber(t.selectedCategory.activeUsers||0)))]),e("span",{staticClass:"stat-label"},[t._v("æ´»è·ƒç”¨æˆ·")])]),e("div",{staticClass:"stat-item"},[e("span",{staticClass:"stat-value"},[t._v(t._s(t.selectedCategory.activity||0)+"%")]),e("span",{staticClass:"stat-label"},[t._v("æ´»è·ƒåº¦")])])]),e("div",{staticClass:"activity-indicator"},[e("div",{staticClass:"activity-label"},[e("span",[t._v("åˆ†ç±»æ´»è·ƒåº¦")]),e("span",[t._v(t._s(t.selectedCategory.activity||0)+"%")])]),e("div",{staticClass:"activity-bar"},[e("div",{staticClass:"activity-fill",style:{width:`${t.selectedCategory.activity||0}%`,backgroundColor:t.selectedCategory.color}})])])]):e("div",{staticClass:"category-detail-card placeholder"},[t._m(0)]),e("div",{staticClass:"filter-sort-controls"},[e("div",{staticClass:"filter-group"},[e("label",[t._v("å†…å®¹ç±»å‹:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.contentType,expression:"filters.contentType"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters,"contentType",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:"all"}},[t._v("å…¨éƒ¨å†…å®¹")]),e("option",{attrs:{value:"blog"}},[t._v("åšå®¢æ–‡ç« ")]),e("option",{attrs:{value:"topic"}},[t._v("è¯é¢˜è®¨è®º")])])]),e("div",{staticClass:"filter-group"},[e("label",[t._v("æ’åºæ–¹å¼:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.sortBy=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:"newest"}},[t._v("æœ€æ–°å‘å¸ƒ")]),e("option",{attrs:{value:"oldest"}},[t._v("æœ€æ—©å‘å¸ƒ")]),e("option",{attrs:{value:"mostViewed"}},[t._v("æœ€å¤šæµè§ˆ")]),e("option",{attrs:{value:"mostComments"}},[t._v("æœ€å¤šè¯„è®º")])])]),e("div",{staticClass:"filter-group search-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.search,expression:"filters.search"}],staticClass:"search-input",attrs:{type:"text",placeholder:"æœç´¢å†…å®¹æ ‡é¢˜..."},domProps:{value:t.filters.search},on:{input:[function(e){e.target.composing||t.$set(t.filters,"search",e.target.value)},t.handleSearch]}})]),e("button",{staticClass:"reset-btn",on:{click:t.resetFilters}},[t._v("é‡ç½®ç­›é€‰")])]),t.loading?e("div",{staticClass:"loading"},[t._v("åŠ è½½ä¸­...")]):0===t.filteredContents.length?e("div",{staticClass:"empty"},[e("div",{staticClass:"empty-icon"},[t._v("ğŸ”")]),e("p",[t._v(t._s(t.filters.search?"æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„å†…å®¹":"è¯¥åˆ†ç±»ä¸‹æš‚æ— å†…å®¹"))]),e("button",{staticClass:"btn",on:{click:t.resetFilters}},[t._v("é‡ç½®ç­›é€‰æ¡ä»¶")])]):e("div",[e("div",{staticClass:"results-info"},[e("span",[t._v("æ‰¾åˆ° "+t._s(t.filteredContents.length)+" æ¡å†…å®¹")])]),e("div",{staticClass:"contents-list"},t._l(t.paginatedContents,function(s){return e("div",{key:`${s.type}-${s.id}`,class:["content-card","blog"===s.type?"blog-card":"topic-card"],staticStyle:{cursor:"pointer"},on:{click:function(e){return t.viewContent(s)}}},[e("div",{staticClass:"content-type-badge",class:s.type},[t._v(" "+t._s("blog"===s.type?"ğŸ“ æ–‡ç« ":"ğŸ’¬ è¯é¢˜")+" ")]),e("h3",{staticClass:"content-title"},[t._v(t._s(s.title))]),"blog"===s.type?e("div",{staticClass:"blog-meta"},[e("span",{staticClass:"author"},[t._v(t._s(s.author||"åŒ¿åç”¨æˆ·"))]),e("span",{staticClass:"blog-category"},[t._v(t._s(s.category||this.categoryName))]),e("span",{staticClass:"tags"},t._l(s.tags.slice(0,3),function(s,a){return e("span",{key:a,staticClass:"tag"},[t._v(t._s(s))])}),0)]):e("div",{staticClass:"topic-meta"},[e("span",{staticClass:"stats"},[e("span",{staticClass:"views"},[t._v(t._s(t.formatNumber(s.views||0))+" æµè§ˆ")]),e("span",{staticClass:"comments"},[t._v(t._s(t.formatNumber(s.comments||0))+" è¯„è®º")])])]),s.content?e("div",{staticClass:"content-excerpt"},[t._v(" "+t._s(t.getExcerpt(s.content))+" ")]):t._e(),e("div",{staticClass:"common-meta"},[e("span",{staticClass:"source"},[t._v(t._s(s.source))]),e("span",{staticClass:"date"},[t._v(t._s(t.formatDate(s.updatedAt||s.createdAt)))]),e("span",{staticClass:"views-count"},[t._v(t._s(t.formatNumber(s.views||0))+" æµè§ˆ")])]),e("button",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.viewContent(s)}}},[t._v("æŸ¥çœ‹è¯¦æƒ…")])])}),0),t.totalPages>1?e("div",{staticClass:"pagination"},[e("button",{staticClass:"pagination-btn",attrs:{disabled:1===t.currentPage},on:{click:t.prevPage}},[t._v(" ä¸Šä¸€é¡µ ")]),e("span",{staticClass:"pagination-info"},[t._v("ç¬¬ "+t._s(t.currentPage)+" é¡µï¼Œå…± "+t._s(t.totalPages)+" é¡µ")]),e("button",{staticClass:"pagination-btn",attrs:{disabled:t.currentPage===t.totalPages},on:{click:t.nextPage}},[t._v(" ä¸‹ä¸€é¡µ ")])]):t._e()])])])])},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"placeholder-message"},[e("span",{staticClass:"placeholder-icon"},[t._v("ğŸ“")]),e("h3",[t._v("è¯·é€‰æ‹©ä¸€ä¸ªåˆ†ç±»")]),e("p",[t._v("ä»å·¦ä¾§é€‰æ‹©ä¸€ä¸ªåˆ†ç±»æŸ¥çœ‹è¯¦æƒ…")])])}],i=(s(4114),s(2489),s(116),s(8237),s(3579),s(6886)),r=s(5426),n={name:"CategoryPage",data(){return{categories:[{id:1,name:"æŠ€æœ¯åˆ†äº«",description:"åˆ†äº«å„ç±»æŠ€æœ¯çŸ¥è¯†å’Œç»éªŒ",icon:"ğŸ’»",color:"#4a90e2",postCount:42,activeUsers:128},{id:2,name:"ç”Ÿæ´»éšç¬”",description:"è®°å½•ç”Ÿæ´»ä¸­çš„ç‚¹ç‚¹æ»´æ»´",icon:"ğŸ“",color:"#52c41a",postCount:28,activeUsers:89},{id:3,name:"èŒåœºç»éªŒ",description:"èŒåœºå¿ƒå¾—ä¸èŒä¸šå‘å±•å»ºè®®",icon:"ğŸ’¼",color:"#faad14",postCount:36,activeUsers:156},{id:4,name:"å…´è¶£çˆ±å¥½",description:"ä¸ªäººå…´è¶£ä¸çˆ±å¥½äº¤æµ",icon:"ğŸ®",color:"#f5222d",postCount:51,activeUsers:203},{id:5,name:"å­¦ä¹ èµ„æº",description:"ä¼˜è´¨å­¦ä¹ èµ„æ–™ä¸æ•™ç¨‹åˆ†äº«",icon:"ğŸ“š",color:"#1890ff",postCount:33,activeUsers:178},{id:6,name:"å¥åº·ç”Ÿæ´»",description:"å¥åº·é¥®é£Ÿä¸ç”Ÿæ´»æ–¹å¼",icon:"ğŸƒ",color:"#52c41a",postCount:24,activeUsers:92},{id:7,name:"æ—…è¡Œè§é—»",description:"æ—…è¡Œç»å†ä¸æ™¯ç‚¹æ¨è",icon:"âœˆï¸",color:"#fa8c16",postCount:47,activeUsers:145},{id:8,name:"ç§‘æŠ€å‰æ²¿",description:"æœ€æ–°ç§‘æŠ€åŠ¨æ€ä¸è¶‹åŠ¿",icon:"ğŸš€",color:"#722ed1",postCount:38,activeUsers:167}],topics:[],blogs:[],selectedCategoryId:null,categoryName:"",loading:!1,filters:{contentType:"all",search:""},sortBy:"newest",currentPage:1,pageSize:10}},computed:{currentCategory(){return this.categories.find(t=>t.id===this.selectedCategoryId)},selectedCategory(){return this.categories.find(t=>t.id===this.selectedCategoryId)||null},totalContents(){return this.filteredContents.length},blogCount(){return this.filteredContents.filter(t=>"blog"===t.type).length},topicCount(){return this.filteredContents.filter(t=>"topic"===t.type).length},totalViews(){return this.filteredContents.reduce((t,e)=>t+(e.views||0),0)},filteredContents(){const t=this.blogs.map(t=>({id:t.id,type:"blog",title:t.title,content:t.content,author:t.author,category:t.category,tags:t.tags||[],source:t.source,views:t.views||0,comments:t.comments||0,createdAt:t.createdAt,updatedAt:t.updatedAt})),e=this.topics.map(t=>({id:t.id,type:"topic",title:t.title,category:t.category,source:t.source,views:t.views,comments:t.comments,createdAt:t.createdAt||t.updatedAt,updatedAt:t.updatedAt}));let s=[...t,...e];if("all"!==this.filters.contentType&&(s=s.filter(t=>t.type===this.filters.contentType)),this.filters.search.trim()){const t=this.filters.search.toLowerCase().trim();s=s.filter(e=>e.title.toLowerCase().includes(t)||e.content&&e.content.toLowerCase().includes(t)||e.tags&&e.tags.some(e=>e.toLowerCase().includes(t)))}switch(this.sortBy){case"newest":s.sort((t,e)=>{const s=new Date(t.updatedAt||t.createdAt),a=new Date(e.updatedAt||e.createdAt);return a-s});break;case"oldest":s.sort((t,e)=>{const s=new Date(t.updatedAt||t.createdAt),a=new Date(e.updatedAt||e.createdAt);return s-a});break;case"mostViewed":s.sort((t,e)=>(e.views||0)-(t.views||0));break;case"mostComments":s.sort((t,e)=>(e.comments||0)-(t.comments||0));break;default:s.sort((t,e)=>{const s=new Date(t.updatedAt||t.createdAt),a=new Date(e.updatedAt||e.createdAt);return a-s})}return s},paginatedContents(){const t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.filteredContents.slice(t,e)},totalPages(){return Math.ceil(this.filteredContents.length/this.pageSize)}},created(){if(this.categories.length>0){const t=parseInt(this.$route.params.id);if(t)this.selectCategory(t);else{const t=this.categories[0];this.selectCategory(t.id)}}else this.fetchCategories()},methods:{resetFilters(){this.filters.contentType="all",this.filters.search="",this.sortBy="newest",this.currentPage=1},selectCategory(t){const e=t.id||t;this.loading=!0,this.resetFilters(),this.currentPage=1;const s=this.categories.find(t=>t.id===e);if(!s)return void(this.loading=!1);this.selectedCategoryId=e,this.categoryName=s.name;const a=parseInt(this.$route.params.id);a!==e&&this.$router.push({path:`/category/${e}`}),setTimeout(()=>{try{this.enrichCategoryData(s),this.useMockDataForCategory(e)}catch(t){console.error("è·å–å†…å®¹å¤±è´¥:",t),this.useMockDataForCategory(e)}finally{this.loading=!1}},300)},handleSearch(){this.currentPage=1},watchFiltersOrSort(){this.currentPage=1},fetchCategories(){this.loading=!0;try{setTimeout(()=>{this.loading=!1;const t=parseInt(this.$route.params.id);t?this.selectCategory(t):this.categories.length>0&&!this.selectedCategoryId&&this.selectCategory(this.categories[0].id)},300)}catch(t){console.error("è·å–åˆ†ç±»åˆ—è¡¨å¤±è´¥:",t),this.error="è·å–åˆ†ç±»åˆ—è¡¨å¤±è´¥",this.loading=!1,this.categories.length>0&&!this.selectedCategoryId&&this.selectCategory(this.categories[0].id)}},async fetchTopicsByCategory(t){try{this.loading=!0;const e=this.categories.find(e=>e.id===t),s=e?.name,[a,o]=await Promise.all([(0,i.ez)(t),(0,r.Zt)()]);if(this.topics=a.data||[],this.blogs=(o.data||[]).filter(t=>t.source===s),e){this.categoryName=e.name,this.selectedCategoryId=t;const s=parseInt(this.$route.params.id);s!==t&&this.$router.push({path:`/category/${t}`}),this.enrichCategoryData(e)}}catch(e){console.error("è·å–å†…å®¹å¤±è´¥:",e),this.useMockDataForCategory(t)}finally{this.loading=!1,this.currentPage=1}},enrichCategoryData(t){const e=this.filteredContents,s=e.reduce((t,e)=>t+(e.views||0),0),a=e.reduce((t,e)=>t+(e.comments||0),0),o=10*e.length,i=.01*s,r=2*a,n=o+i+r,c=Math.min(100,Math.max(0,n));t.activity=c,t.totalViews=s,t.totalComments=a},useMockDataForCategory(t){const e=this.categories.find(e=>e.id===t);if(!e)return;const s=this.generateMockTopics(e.name,5),a=this.generateMockBlogs(e.name,8);this.topics=s,this.blogs=a,this.categoryName=e.name,this.selectedCategoryId=t},generateMockTopics(t,e){const s=[`${t}é¢†åŸŸæœ‰å“ªäº›å€¼å¾—å…³æ³¨çš„æ–°è¶‹åŠ¿ï¼Ÿ`,`å¦‚ä½•å¿«é€Ÿå…¥é—¨${t}ç›¸å…³æŠ€æœ¯ï¼Ÿ`,`${t}ä»ä¸šè€…çš„æ—¥å¸¸å·¥ä½œæ˜¯æ€æ ·çš„ï¼Ÿ`,`åœ¨${t}é¡¹ç›®ä¸­é‡åˆ°çš„æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ`,`${t}å­¦ä¹ èµ„æºæ¨è`,`åˆ†äº«ä½ çš„${t}å­¦ä¹ ç»éªŒ`,`${t}æŠ€æœ¯æ ˆå¯¹æ¯”åˆ†æ`];return Array.from({length:e},(e,a)=>({id:`mock-topic-${Date.now()}-${a}`,title:s[a%s.length],category:t,source:t,views:Math.floor(1e3*Math.random())+100,comments:Math.floor(50*Math.random())+5,createdAt:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),updatedAt:new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString()}))},generateMockBlogs(t,e){const s=[`${t}å®æˆ˜ï¼šä»é›¶å¼€å§‹æ­å»ºé¡¹ç›®`,`${t}æ ¸å¿ƒæ¦‚å¿µè¯¦è§£`,`${t}æ€§èƒ½ä¼˜åŒ–æŠ€å·§æ€»ç»“`,`${t}æœ€ä½³å®è·µåˆ†äº«`,`${t}å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ`,`${t}é«˜çº§ç‰¹æ€§æ·±å…¥è§£æ`,`${t}æ¶æ„è®¾è®¡æ¡ˆä¾‹åˆ†æ`,`å¦‚ä½•åœ¨å›¢é˜Ÿä¸­æ¨å¹¿${t}æŠ€æœ¯`],a=["æŠ€æœ¯ä¸“å®¶","é«˜çº§å·¥ç¨‹å¸ˆ","æ¶æ„å¸ˆ","å¼€å‘ç»ç†","æŠ€æœ¯åšä¸»"],o=["æŠ€æœ¯åˆ†äº«","å®æˆ˜ç»éªŒ","æœ€ä½³å®è·µ","æ€§èƒ½ä¼˜åŒ–","æ¶æ„è®¾è®¡","å…¥é—¨æ•™ç¨‹"];return Array.from({length:e},(e,i)=>{const r=Math.floor(3*Math.random())+2;let n="";for(let s=0;s<r;s++)n+=`è¿™æ˜¯å…³äº${t}çš„ç¬¬${s+1}æ®µå†…å®¹ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»${t}çš„ç›¸å…³çŸ¥è¯†å’Œå®è·µç»éªŒï¼Œå¸®åŠ©è¯»è€…æ›´å¥½åœ°ç†è§£å’Œåº”ç”¨è¿™é¡¹æŠ€æœ¯ã€‚\n\n`;return{id:`mock-blog-${Date.now()}-${i}`,title:s[i%s.length],content:n,author:a[i%a.length],category:t,tags:this.getRandomTags(o,3),source:t,views:Math.floor(2e3*Math.random())+200,comments:Math.floor(100*Math.random())+10,createdAt:new Date(Date.now()-60*Math.random()*24*60*60*1e3).toISOString(),updatedAt:new Date(Date.now()-14*Math.random()*24*60*60*1e3).toISOString()}})},getRandomTags(t,e){const s=[...t].sort(()=>.5-Math.random());return s.slice(0,e)},prevPage(){this.currentPage>1&&(this.currentPage--,this.scrollToTop())},nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.scrollToTop())},goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.scrollToTop())},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},viewContent(t){"blog"===t.type?(console.log("æŸ¥çœ‹åšå®¢æ–‡ç« :",t.title),alert(`æ‚¨é€‰æ‹©äº†åšå®¢æ–‡ç« ï¼š${t.title}`)):(console.log("æŸ¥çœ‹è¯é¢˜:",t.title),alert(`æ‚¨é€‰æ‹©äº†è¯é¢˜ï¼š${t.title}`))},getExcerpt(t){if(!t)return"";const e=t.replace(/\n/g," ").trim();return e.length>100?e.substring(0,100)+"...":e},formatNumber(t){return t>=1e4?(t/1e4).toFixed(1)+"w":t>=1e3?(t/1e3).toFixed(1)+"k":t.toString()},formatDate(t){const e=new Date(t),s=new Date,a=s-e,o=Math.floor(a/1e3),i=Math.floor(o/60),r=Math.floor(i/60),n=Math.floor(r/24);return n>0?`${n}å¤©å‰`:r>0?`${r}å°æ—¶å‰`:i>0?`${i}åˆ†é’Ÿå‰`:"åˆšåˆš"}}},c=n,l=s(1656),d=(0,l.A)(c,a,o,!1,null,"656c66b2",null),g=d.exports},8237:function(t,e,s){var a=s(6518),o=s(2652),i=s(9306),r=s(8551),n=s(1767),c=s(9539),l=s(4549),d=s(8745),g=s(9039),u=TypeError,h=g(function(){[].keys().reduce(function(){},void 0)}),p=!h&&l("reduce",u);a({target:"Iterator",proto:!0,real:!0,forced:h||p},{reduce:function(t){r(this);try{i(t)}catch(g){c(this,"throw",g)}var e=arguments.length<2,s=e?void 0:arguments[1];if(p)return d(p,this,e?[t]:[t,s]);var a=n(this),l=0;if(o(a,function(a){e?(e=!1,s=a):s=t(s,a,l),l++},{IS_RECORD:!0}),e)throw new u("Reduce of empty iterator with no initial value");return s}})},8745:function(t,e,s){var a=s(616),o=Function.prototype,i=o.apply,r=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(a?r.bind(i):function(){return r.apply(i,arguments)})}}]);
//# sourceMappingURL=208.3a9e6b92.js.map