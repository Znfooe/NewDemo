"use strict";(self["webpackChunkvue_frontend"]=self["webpackChunkvue_frontend"]||[]).push([[616],{1148:function(t,e,i){var s=i(6518),n=i(9565),r=i(2652),a=i(9306),o=i(8551),l=i(1767),d=i(9539),h=i(4549),u=h("every",TypeError);s({target:"Iterator",proto:!0,real:!0,forced:u},{every:function(t){o(this);try{a(t)}catch(s){d(this,"throw",s)}if(u)return n(u,this,t);var e=l(this),i=0;return!r(e,function(e,s){if(!t(e,i++))return s()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1616:function(t,e,i){i.r(e),i.d(e,{default:function(){return p}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"test-container"},[e("h1",[t._v("像素风格打字机测试")]),e("div",{staticClass:"demo-section"},[e("h2",[t._v("默认设置演示")]),e("div",{staticClass:"demo-box"},[e("PixelTypewriter")],1)]),e("div",{staticClass:"demo-section"},[e("h2",[t._v("自定义文本演示")]),e("div",{staticClass:"demo-box"},[e("PixelTypewriter",{attrs:{texts:["欢迎来到科博展","PIXEL STYLE","动态打字效果"],"type-speed":120,"delete-speed":60,"stay-time":1500}})],1)]),e("div",{staticClass:"demo-section"},[e("h2",[t._v("快速模式演示")]),e("div",{staticClass:"demo-box"},[e("PixelTypewriter",{attrs:{texts:["FAST TYPING","SPEED TEST"],"type-speed":50,"delete-speed":30,"stay-time":1e3}})],1)])])},n=[],r=function(){var t=this,e=t._self._c;return e("div",{ref:"displayRef",staticClass:"pixel-typewriter"})},a=[],o=(i(8111),i(1148),{name:"PixelTypewriter",props:{texts:{type:Array,default:function(){return["HELLO"]},validator:function(t){return Array.isArray(t)&&t.length>0&&t.every(t=>"string"===typeof t)}},typeSpeed:{type:Number,default:150,validator:function(t){return t>0}},deleteSpeed:{type:Number,default:80,validator:function(t){return t>0}},stayTime:{type:Number,default:2e3,validator:function(t){return t>=0}}},data(){return{isAnimating:!1,currentIndex:0,animationId:null}},mounted(){this.texts&&this.texts.length>0&&this.animate()},methods:{safeTimeout(t,e){return setTimeout(t,e)},delay(t){const e=this;return new Promise(i=>{e.animationId=e.safeTimeout(i,t)})},async animate(){if(!this.isAnimating&&this.$refs.displayRef&&this.texts.length){this.isAnimating=!0;try{await this.$nextTick();const t=this.texts[this.currentIndex]||"",e=this.$refs.displayRef;e.textContent="";for(let i=0;i<t.length;i++){if(await this.delay(this.typeSpeed),!this.isAnimating)break;e.textContent=t.slice(0,i+1)}if(this.isAnimating&&this.stayTime>0&&await this.delay(this.stayTime),this.isAnimating)for(let i=t.length;i>0;i--){if(await this.delay(this.deleteSpeed),!this.isAnimating)break;e.textContent=t.slice(0,i-1)}this.isAnimating&&(this.currentIndex=(this.currentIndex+1)%this.texts.length,this.animate())}catch(t){console.error("像素打字机动画出错:",t)}finally{this.isAnimating&&(this.isAnimating=!1)}}}},beforeDestroy(){this.animationId&&clearTimeout(this.animationId),this.isAnimating=!1}}),l=o,d=i(1656),h=(0,d.A)(l,r,a,!1,null,"7c6617bc",null),u=h.exports,c={name:"PixelTest",components:{PixelTypewriter:u}},f=c,m=(0,d.A)(f,s,n,!1,null,"7aecb222",null),p=m.exports}}]);
//# sourceMappingURL=616.7b67e089.js.map